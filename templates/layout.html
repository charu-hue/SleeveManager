<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}スリーブ管理アプリ{% endblock %}</title>
    <style>
    body { font-family: sans-serif; margin: 0; background-color: #f4f4f4; color: #333; display: flex; }
    .sidebar { width: 220px; background-color: #333; color: white; height: 100vh; padding-top: 20px; position: fixed; }
    .sidebar h2 { text-align: center; color: #fff; }
    .sidebar a { display: block; color: white; padding: 15px 20px; text-decoration: none; }
    .sidebar a:hover { background-color: #555; }
    .main-content { margin-left: 220px; padding: 20px; width: 100%; }
    h1, h2 { color: #444; }
    a { color: #007bff; text-decoration: none; }
    nav { background-color: #fff; padding: 10px 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 20px; display: flex; justify-content: flex-end; align-items: center; }
    .container { background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: left; vertical-align: middle; }
    th { background-color: #f9f9f9; }
    input[type="text"], input[type="number"], select { width: 95%; padding: 8px; margin: 5px 0; border: 1px solid #ccc; border-radius: 4px; }
    button { padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background-color: #0056b3; }
    .delete-btn { background-color: #dc3545; }
    .sleeve-img { max-width: 60px; max-height: 60px; border-radius: 4px; }
    
    /* --- フォーム関連 --- */
    .form-group { display: flex; align-items: center; margin-bottom: 15px; }
    .form-group label { width: 120px; flex-shrink: 0; font-weight: bold; }
    .form-group input, .form-group select { flex-grow: 1; }
    .filter-form { background-color: #f9f9f9; padding: 15px; border: 1px solid #ddd; border-radius: 5px; margin-bottom: 20px; }
    .sort-links { margin-bottom: 15px; }
    .sort-links a.active { font-weight: bold; text-decoration: underline; }

    /* ▼▼▼ ここからスマホ用の設定を追加 ▼▼▼ */
    @media (max-width: 768px) {
        body {
            display: block; /* 横並びをやめて、縦に並べる */
        }
        .sidebar {
            width: 100%;
            height: auto;
            position: static; /* サイドに固定するのをやめる */
            display: flex; /* メニュー項目を横並びに */
            justify-content: space-around; /* 均等に配置 */
            padding-top: 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .sidebar h2 {
            display: none; /* スマホでは「メニュー」の文字を隠す */
        }
        .sidebar a {
            padding: 15px 10px;
            text-align: center;
        }
        .main-content {
            margin-left: 0; /* サイドメニュー分のマージンをなくす */
        }
    }
</style>
</head>
<body>
    <div class="sidebar">
        <h2>メニュー</h2>
        <a href="{{ url_for('index') }}">デッキ一覧</a>
        <a href="{{ url_for('inventory') }}">スリーブ在庫</a>
    </div>

    <div class="main-content">
        <nav>
            <div>
                {% if g.user %}
                    <span>{{ g.user['username'] }}さん</span>
                    <a href="{{ url_for('logout') }}" style="margin-left: 15px;">ログアウト</a>
                {% else %}
                    <a href="{{ url_for('login') }}">ログイン</a>
                    <a href="{{ url_for('register') }}" style="margin-left: 15px;">新規登録</a>
                {% endif %}
            </div>
        </nav>
        
        <main>
            {% block content %}{% endblock %}
        </main>
    </div>
</body>
</html>